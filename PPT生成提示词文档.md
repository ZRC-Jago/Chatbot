# 智能体项目PPT生成提示词文档

## 一、项目概述

### 1.1 项目名称
**智能对话平台**

一个基于Next.js和Supabase构建的智能对话平台，支持陪伴聊天、创作图片、分析图片、创作视频，支持用户创建自定义AI智能体聊天，智能体实现工具调用，用户作品可通过社区分享等功能。

### 1.2 核心技术栈
- **前端框架**: Next.js 16.0.10 
- **后端服务**: Next.js API Routes + Supabase 
- **AI模型**: SiliconFlow API 
- **UI组件**: Radix UI + Tailwind CSS
- **状态管理**: React Hooks
- **数据存储**: Supabase (用户数据、智能体配置、聊天历史)

---

## 二、项目核心功能详细说明

### 2.0 基础功能:谷歌登录、接入Creem支付、supabase数据库管理、外网服务器部署
### 2.0.1 功能概述：用户进入网页，可以使用聊天基础功能，登录后充值会员可以无限次对话、可以使用聊天室功能，邀请基本角色一起聊天，用户还可以生成图片，分享图片，可以生成视频，分享视频，可以自由创建智能体，用户可以使用别人分享的智能体，也可以分享自己创建的智能体。

### 2.1 聊天功能
- **陪伴模式**: 与预设角色（温暖、热情、腼腆、理性知心）进行情感对话
- **多模态支持**: 
  - 文本对话
  - 图片生成（创作模式）
  - 图片识别（识图模式）
  - 视频生成（视频模式）
- **语音合成（TTS）**: 支持将AI回复转换为语音播放
- **聊天历史**: 本地存储会话历史，支持多会话管理

### 2.2 自定义智能体功能 ⭐
这是项目的核心创新功能：

#### 2.2.1 智能体创建
- 用户可自定义智能体的以下属性：
  - **名称**: 智能体的名字
  - **头像**: 显示字符（emoji或单字）
  - **系统提示词**: 定义智能体的角色、行为、对话风格
  - **音色**: 从预设的语音库中选择
  - **欢迎消息**: 初次见面时的问候语
  - **描述**: 智能体的功能说明

#### 2.2.2 智能体管理
- **编辑**: 随时修改智能体的配置
- **删除**: 删除不需要的智能体
- **分享**: 将智能体分享到社区供其他用户使用

#### 2.2.3 社区功能
- **浏览社区智能体**: 查看其他用户分享的智能体
- **使用社区智能体**: 一键复制社区智能体到自己的列表
- **搜索与筛选**: 支持关键词搜索和分类浏览

### 2.3 工具调用功能（Tool Calling/Skills）⭐
这是项目实现的核心能力之一：

#### 2.3.1 工具注册与管理
- **工具注册系统**: 统一的工具注册表（`toolRegistry`）
- **工具定义**: 每个工具包含名称、描述、参数schema
- **工具执行器**: 统一的工具执行接口

#### 2.3.2 已实现的11个工具

**通用工具（3个）**:
1. `get_current_time` - 获取当前时间和日期信息
2. `calculate` - 执行数学计算（加减乘除、幂、开方）
3. `unit_converter` - 单位换算（长度、重量、温度、体积）

**健康相关工具（4个）**:
4. `calculate_bmi` - 计算BMI指数和分级
5. `estimate_daily_calories` - 估算每日维持热量（TDEE）和基础代谢（BMR）
6. `calculate_body_fat_percentage` - 估算体脂率
7. `calculate_ideal_weight` - 计算理想体重范围

**文本处理工具（2个）**:
8. `text_analyzer` - 分析文本统计信息（字数、段落、句子数）
9. `translate_text` - 文本翻译（支持多语言）
10. `detect_language` - 语言检测

**实用工具（1个）**:
11. `generate_random` - 生成随机数或随机选择

#### 2.3.3 工具调用流程
1. **第一次API调用**: AI模型分析用户问题，决定是否需要调用工具
2. **工具执行**: 如果模型返回`tool_calls`，系统执行相应的工具
3. **第二次API调用**: 将工具执行结果返回给模型，生成最终回复
4. **智能选择**: AI自动判断何时使用工具，无需用户手动选择

#### 2.3.4 工具使用策略
- **自动启用**: 只有自定义智能体才启用工具调用功能
- **系统角色**: 普通陪伴角色（温暖、热情等）不使用工具，保持纯对话体验
---

## 三、项目具体实现情况

### 3.1 Agent的理解

#### 3.1.1 定义
**Agent（智能体）**是一个能够感知环境、做出决策并执行行动的自主实体。在AI领域，Agent通常具备：
- **自主性（Autonomy）**: 能够独立执行任务
- **反应性（Reactivity）**: 能够感知环境并做出响应
- **主动性（Pro-activeness）**: 能够主动采取行动达成目标
- **社会性（Social Ability）**: 能够与其他Agent或用户交互

#### 3.1.2 项目中的实现情况与技术难点

**已实现的功能**:
1. **自主决策**: AI模型能够自主决定何时使用工具，无需用户手动选择
2. **反应性**: 能够理解用户输入并生成合适的回复，具备基本的对话理解能力
3. **角色定制**: 用户可以为智能体定义独特的系统提示词，塑造其行为模式、性格特点、对话风格
4. **工具调用**: 智能体能够调用外部工具完成任务，实现了标准的Function Calling机制

**未实现的功能及难点分析**:

1. **长期记忆系统未实现**，其原因在于：需要存储和检索大量的对话历史，处理上下文的成本较高，于本项目而言，对API消耗过大。

2. **主动能力未实现**，其难点在于：需要实现任务调度系统、事件触发机制、用户通知系统，这些功能需要复杂的架构设计和实现，对于本项目来说并无必要。

3. **计划能力和学习能力未实现**，其原因在于：同样对上下文消耗过大。

### 3.2 Skills的理解

#### 3.2.1 定义
**Skills（技能）**是Agent执行特定任务的能力。在AI Agent系统中，Skills通常表现为：
- **函数调用（Function Calling）**: Agent调用预定义的函数
- **API集成**: 连接外部服务和API
- **数据处理**: 执行计算、分析、转换等操作
- **多模态处理**: 处理文本、图像、音频等多种数据类型

#### 3.2.2 项目中的实现情况与技术难点

**已实现的功能**:
1. **工具注册系统**: 实现了统一的工具注册表（`toolRegistry`），便于管理和扩展工具
2. **工具定义规范**: 使用JSON Schema定义工具参数，确保类型安全和参数验证
3. **工具执行引擎**: 实现了统一的工具执行接口（`executeTool`），支持异步执行
4. **两轮调用机制**: 实现了标准的工具调用流程（第一次API调用决策→工具执行→第二次API调用生成回复）
5. **11个内置工具**: 实现了涵盖通用计算、健康管理、文本处理、翻译等领域的11个工具

**部分实现的功能**:
1. **工具权限控制**: 实现了基础的权限控制（只有自定义智能体可以使用工具），但**细粒度权限管理未实现**，其难点在于：
   - 需要设计灵活的权限模型（用户级、智能体级、工具级）
   - 需要实现权限的继承和覆盖机制
   - 需要处理权限的动态更新和缓存

2. **工具组合**: 支持单个工具调用，但**工具链式调用（多个工具协作）未实现**，其难点在于：
   - 需要设计工具之间的数据传递机制
   - 需要处理工具执行顺序和依赖关系
   - 需要实现工具链的错误处理和回滚机制

### 3.3 GEO的理解

#### 3.3.1 定义
**GEO（Generative Engine Optimization，生成式引擎优化）**是指优化内容以在生成式AI引擎（如ChatGPT、Claude、Perplexity等）中获得更好的可见性和排名。类似于SEO（搜索引擎优化），但针对的是AI生成的内容和检索系统，本项目并未涉及此复杂的功能。

---


## 四、关键数据统计

### 4.1 代码规模
- 工具数量: 11个
- 系统角色: 4个
- 支持的模式: 4种（陪伴、创作、识图、视频）

### 4.2 技术指标
- 工具调用响应时间: < 3秒（包含两轮API调用）
- 支持的语言: 10+种（翻译功能）
- 工具类型: 4大类（通用、健康、文本、实用）

---

## 五、补充说明

### 5.1 关于Agent的理解
本项目中的"Agent"更接近于"角色扮演"的概念，通过系统提示词定义了AI的行为模式。虽然实现了工具调用能力，但缺乏真正的自主性和主动性。要实现完整的Agent能力，还需要记忆系统、规划能力、主动行为等功能的支撑。

### 5.2 关于Skills的理解
本项目中的"Skills"通过工具调用（Function Calling）实现，但工具是静态注册的，缺乏动态扩展能力。真正的Skills系统应该支持用户自定义工具、工具市场、工具组合等高级功能。

### 5.3 关于GEO（生成式引擎优化）的理解
GEO是指优化内容以在生成式AI引擎（如ChatGPT、Claude、Perplexity等）中获得更好的可见性和排名。类似于SEO（搜索引擎优化），但针对的是AI生成的内容和检索系统，本项目并未涉及此复杂的功能。

---

## 六、总结

智能对话平台不仅实现了多模态支持的聊天功能，同时实现了AI Agent的基础框架，包括自定义智能体、工具调用等核心功能。创建了一个简易的用户社区，实现用户作品的交流。在Agent方面，实现了反应性和部分自主性，但缺乏长期记忆和主动能力。在Skills方面，实现了工具调用机制，但工具类型和外部集成能力有限。在GEO（生成式引擎优化）方面，完全未实现，主要受限于技术复杂度和项目需求。

---

**文档生成日期**: 2026年
**项目版本**: v0.1.0
**文档用途**: PPT生成提示词
